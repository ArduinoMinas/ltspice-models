Version 4
SHEET 1 4432 812
WIRE 960 -368 960 -400
WIRE 912 -176 832 -176
WIRE 960 -176 960 -288
WIRE 960 -176 912 -176
WIRE 1040 -176 960 -176
WIRE 1136 -176 1040 -176
WIRE 1136 -96 1136 -176
WIRE 832 -48 832 -96
WIRE 960 -48 960 -176
WIRE 1040 -48 1040 -176
WIRE 832 80 832 16
WIRE 832 80 608 80
WIRE 912 80 832 80
WIRE 960 80 960 16
WIRE 960 80 912 80
WIRE 1040 80 1040 16
WIRE 1040 80 960 80
WIRE 1136 80 1136 -16
WIRE 1136 80 1040 80
WIRE 960 112 960 80
WIRE 832 128 832 80
WIRE 1040 128 1040 80
WIRE 1136 144 1136 80
WIRE 832 288 832 272
WIRE 912 288 832 288
WIRE 960 288 960 176
WIRE 960 288 912 288
WIRE 1040 288 1040 192
WIRE 1040 288 960 288
WIRE 1136 288 1136 224
WIRE 1136 288 1040 288
WIRE 960 384 960 288
WIRE 960 496 960 464
FLAG 960 -400 C
IOPIN 960 -400 Out
FLAG 960 496 E
IOPIN 960 496 Out
FLAG 912 80 bv
FLAG 912 -176 cv
FLAG 912 288 ev
FLAG 608 80 BV
IOPIN 608 80 In
SYMBOL diode 816 128 R0
WINDOW 3 49 25 Left 2
SYMATTR Value De0
SYMATTR InstName D1
SYMBOL diode 944 112 R0
SYMATTR InstName D2
SYMATTR Value De
SYMBOL diode 1024 128 R0
SYMATTR InstName D3
SYMATTR Value Der
SYMBOL voltage 832 176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vae
SYMATTR Value 0
SYMBOL diode 848 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value Dc0
SYMBOL voltage 832 -80 R180
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vac
SYMATTR Value 0
SYMBOL diode 976 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value Dc
SYMBOL diode 1056 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value Dcr
SYMBOL bi 1136 224 M180
WINDOW 0 24 80 Left 2
WINDOW 3 38 27 Left 2
SYMATTR InstName B2
SYMATTR Value I=(uramp(i(vac)*2)*af+ise)/MM(v(ev,bv),bVcb,nMc)-ise
SYMBOL bi 1136 -96 R0
WINDOW 3 33 51 Left 2
SYMATTR Value I=(uramp(i(vae)*2)*af+ise)/MM(v(cv,bv),bVcb,nMc)-ise
SYMATTR InstName B3
SYMBOL res 944 -384 R0
SYMATTR InstName R1
SYMATTR Value {re}
SYMBOL res 944 368 R0
SYMATTR InstName R2
SYMATTR Value {re}
TEXT 1296 264 Left 2 !.model De0 d is={is/2/af}
TEXT 1296 304 Left 2 !.model De d is={is/2/af} tt={2*tf}
TEXT 1296 344 Left 2 !.model Der d is={ise} cjo={cje} m={mje} n={ne}
TEXT 1296 384 Left 2 !.model Dc0 d is={is/2/af}
TEXT 1296 424 Left 2 !.model Dc d is={is/2/af} tt={2*tf}
TEXT 1296 464 Left 2 !.model Dcr d is={ise} cjo={cje} m={mje} n={ne}
TEXT 1336 -144 Left 2 !.param af=bf/(bf+1)
TEXT 1296 -112 Left 2 !.param nMc=log(1+Bf)/log(bVcb/bVce)
TEXT 1352 56 Left 2 !.func MM(x,y,z)  {1+1f-(limit(x,0,y)/y)**z}
TEXT 1272 -288 Left 2 !.param  bVce={13-1}  bVcb=32    BF=5  RE=5
TEXT 1272 -256 Left 2 !.param is=10f ise=200p   ne=2
TEXT 1272 -224 Left 2 !.param tf=200p   mje=0.4 cje=2p
TEXT 1344 96 Left 2 !R3 c e {bVcb/10u}
